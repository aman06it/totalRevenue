(window["webpackJsonppractical-test"]=window["webpackJsonppractical-test"]||[]).push([[0],{10:function(t,e,a){t.exports=a(17)},16:function(t,e,a){},17:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(4),l=a.n(c),s=a(1),o=a.n(s),u=a(2),i=a(5),m=a(6),d=a(7),f=a(9),h=a(8),p=(a(16),function(t){return new Intl.NumberFormat("en",{minimumFractionDigits:2}).format(t)}),E=function(t){Object(f.a)(a,t);var e=Object(h.a)(a);function a(t){var n;return Object(m.a)(this,a),(n=e.call(this,t)).totalRevenue=function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a].sold*t[a].unitPrice;return e},n.parseData=function(t){for(var e={},a=0;a<t.length;a++)e[t[a].id]?e[t[a].id].sold=e[t[a].id].sold+t[a].sold:e[t[a].id]=t[a];var r=[];Object.keys(e).forEach((function(t){r.push(e[t])})),r.sort((function(t,e){return t.name>e.name?1:t.name<e.name?-1:0})),n.setState({data:r,newData:r})},n.getData=function(){var t=["api/branch1.json","api/branch2.json","api/branch3.json"].map((function(t){return fetch(t)})),e=[];Promise.all(t).then((function(t){return t.forEach(function(){var t=Object(i.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.json();case 2:a=t.sent,e=[].concat(Object(u.a)(e),Object(u.a)(a.products)),n.parseData(e);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},n.searchProduct=function(t){if(n.setState({searchVal:t}),0!==t.trim().length){var e="";e=n.state.exactMatch&&n.state.caseSen?n.state.data.filter((function(e){return e.name===t})):n.state.exactMatch?n.state.data.filter((function(e){return e.name.toLowerCase()===t.toLowerCase()||e.name===t})):n.state.caseSen?n.state.data.filter((function(e){return e.name.includes(t)})):n.state.data.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())})),n.setState({newData:e})}},n.extarOption=function(t){var e=document.getElementById(t.target.id);"caseSen"===e.id?(e.classList.toggle("caseSen"),n.setState({caseSen:!n.state.caseSen},(function(){return n.searchProduct(n.state.searchVal)}))):(e.classList.toggle("exactMatch"),n.setState({exactMatch:!n.state.exactMatch},(function(){return n.searchProduct(n.state.searchVal)})))},n.state={data:[],newData:[],searchVal:"",caseSen:!1,exactMatch:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"product-list"},r.a.createElement("div",{className:"middle"},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("label",null,"Search Products"),r.a.createElement("div",{className:"extra"},r.a.createElement("label",{id:"caseSen",onClick:function(e){return t.extarOption(e)}},"Aa"),r.a.createElement("label",{id:"exactMat",onClick:function(e){return t.extarOption(e)}},"Ab"))),r.a.createElement("input",{type:"text",value:this.state.searchVal,onChange:function(e){return t.searchProduct(e.target.value)}})),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product"),r.a.createElement("th",null,"Revenue"))),r.a.createElement("tbody",null,this.state.newData.length>0&&this.state.newData.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.name),r.a.createElement("td",null,p(t.sold*t.unitPrice)))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Total"),r.a.createElement("td",null,p(this.totalRevenue(this.state.newData)))))))}}]),a}(n.Component);l.a.render(r.a.createElement(E,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.c018de5b.chunk.js.map